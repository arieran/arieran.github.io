<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="keywords" content="Hexo Theme Redefine">
    
    <meta name="author" content="Arie">
    <!-- preconnect -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    
    
    <!--- Seo Part-->
    
    <link rel="canonical" href="https://arieran.github.io/2023/10/04/北大肖臻区块链笔记/"/>
    <meta name="robots" content="index,follow">
    <meta name="googlebot" content="index,follow">
    <meta name="revisit-after" content="1 days">
    
        <meta name="description" content="以后的学习中会持续应用到这些知识点 P1 基础介绍略 P2密码学原理讲了一些密码学专有名词 工作量证明（要持续挖矿，无其他办法）工作量证明是一种基础性算法，它为矿工在工作量证明区块链上进行的工作设置难度和规则。 挖矿就是“工作”本身。 挖矿是向区块链中添加有效区块。 这很重要，因为链的长度有助于网络跟随区块链的正确分叉。 “工作”完成得越多，链越长，区块编号就越大，就更能确定网络达到最新状态。 S">
<meta property="og:type" content="article">
<meta property="og:title" content="北大肖臻区块链笔记">
<meta property="og:url" content="https://arieran.github.io/2023/10/04/%E5%8C%97%E5%A4%A7%E8%82%96%E8%87%BB%E5%8C%BA%E5%9D%97%E9%93%BE%E7%AC%94%E8%AE%B0/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:description" content="以后的学习中会持续应用到这些知识点 P1 基础介绍略 P2密码学原理讲了一些密码学专有名词 工作量证明（要持续挖矿，无其他办法）工作量证明是一种基础性算法，它为矿工在工作量证明区块链上进行的工作设置难度和规则。 挖矿就是“工作”本身。 挖矿是向区块链中添加有效区块。 这很重要，因为链的长度有助于网络跟随区块链的正确分叉。 “工作”完成得越多，链越长，区块编号就越大，就更能确定网络达到最新状态。 S">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2023-10-04T08:10:52.000Z">
<meta property="article:modified_time" content="2023-10-04T08:11:47.440Z">
<meta property="article:author" content="John Doe">
<meta property="article:tag" content="区块链入门">
<meta name="twitter:card" content="summary">
    
    
        <!-- Google tag (gtag.js) -->
        <script async src="https://www.googletagmanager.com/gtag/js?id="></script>
        <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', '');
        </script>
    
    <!--- Icon Part-->
    <link rel="icon" type="image/png" href="/images/arielogo1.jpg" sizes="192x192">
    <link rel="apple-touch-icon" sizes="180x180" href="/images/arielogo1.jpg">
    <meta name="theme-color" content="#A31F34">
    <link rel="shortcut icon" href="/images/arielogo1.jpg">
    <!--- Page Info-->
    
    <title>
        
            北大肖臻区块链笔记 -
        
        Arie&#39;s Blog
    </title>
    
<link rel="stylesheet" href="/css/style.css">

    
<link rel="stylesheet" href="/fonts/fonts.css">

    
<link rel="stylesheet" href="/fonts/Satoshi/satoshi.css">

    
<link rel="stylesheet" href="/fonts/Chillax/chillax.css">

    <!--- Font Part-->
    
    
    
    

    <!--- Inject Part-->
    
    <script id="hexo-configurations">
    let Global = window.Global || {};
    Global.hexo_config = {"hostname":"arieran.github.io","root":"/","language":"zh-CN","path":"search.xml"};
    Global.theme_config = {"articles":{"style":{"font_size":"16px","line_height":1.5,"image_border_radius":"14px","image_alignment":"center","image_caption":false,"link_icon":true},"word_count":{"enable":true,"count":true,"min2read":true},"author_label":{"enable":true,"auto":false,"list":[]},"code_block":{"copy":true,"style":"mac","font":{"enable":false,"family":null,"url":null}},"toc":{"enable":true,"max_depth":3,"number":false,"expand":true,"init_open":true},"copyright":true,"lazyload":true,"recommendation":{"enable":true,"title":"推荐阅读","limit":3,"mobile_limit":2,"placeholder":"/images/wallhaven-wqery6-light.webp","skip_dirs":[]}},"colors":{"primary":"#A31F34","secondary":null},"global":{"fonts":{"chinese":{"enable":false,"family":null,"url":null},"english":{"enable":false,"family":null,"url":null}},"content_max_width":"1000px","sidebar_width":"210px","hover":{"shadow":true,"scale":false},"scroll_progress":{"bar":false,"percentage":true},"busuanzi_counter":{"enable":true,"site_pv":true,"site_uv":true,"post_pv":true},"pjax":true,"open_graph":true,"google_analytics":{"enable":true,"id":null}},"home_banner":{"enable":true,"style":"fixed","image":{"light":"/images/ariewall-light.jpg","dark":"/images/ariewall-dark.jpg"},"title":"Welcome","subtitle":{"text":["祝我们","大杀四方"],"hitokoto":{"enable":true,"api":"https://v1.hitokoto.cn"},"typing_speed":100,"backing_speed":80,"starting_delay":500,"backing_delay":1500,"loop":true,"smart_backspace":true},"text_color":{"light":"#fff","dark":"#d1d1b6"},"text_style":{"title_size":"2.8rem","subtitle_size":"1.5rem","line_height":1.2},"custom_font":{"enable":false,"family":null,"url":null},"social_links":{"enable":true,"links":{"github":"https://github.com/arieran","instagram":null,"zhihu":null,"twitter":null,"email":"aran1026@163.com"}}},"plugins":{"feed":{"enable":false},"aplayer":{"enable":false,"type":"fixed","audios":[{"name":null,"artist":null,"url":null,"cover":null}]},"mermaid":{"enable":false,"version":"9.3.0"}},"version":"2.2.2","navbar":{"auto_hide":false,"color":{"left":"#f78736","right":"#367df7","transparency":35},"links":{"Home":{"path":"/","icon":"fa-regular fa-house"},"Archives":{"path":"/archives","icon":"fa-regular fa-archive"},"Status":{"path":"https://status.evanluo.top/","icon":"fa-regular fa-chart-bar"},"About":{"icon":"fa-regular fa-user","submenus":{"Me":"/about","Github":"https://github.com/EvanNotFound/hexo-theme-redefine","Blog":"https://ohevan.com","Friends":"/friends"}},"Links":{"icon":"fa-regular fa-link","submenus":{"Link1":"https://www.levi104.com/"}}},"search":{"enable":true,"preload":true}},"page_templates":{"friends_column":2,"tags_style":"blur"},"home":{"sidebar":{"enable":true,"position":"left","first_item":"menu","announcement":"努力努力","links":{"Archives":{"path":"/archives","icon":"fa-regular fa-archive"},"Tags":{"path":"/tags","icon":"fa-regular fa-tags"},"Categories":{"path":"/categories","icon":"fa-regular fa-folder"}}},"article_date_format":"auto","categories":{"enable":true,"limit":3},"tags":{"enable":true,"limit":3}},"footerStart":"2022/8/17 11:45:14"};
    Global.language_ago = {"second":"%s 秒前","minute":"%s 分钟前","hour":"%s 小时前","day":"%s 天前","week":"%s 周前","month":"%s 个月前","year":"%s 年前"};
    Global.data_config = {"masonry":false};
  </script>
    
    <!--- Fontawesome Part-->
    
<link rel="stylesheet" href="/fontawesome/fontawesome.min.css">

    
<link rel="stylesheet" href="/fontawesome/brands.min.css">

    
<link rel="stylesheet" href="/fontawesome/solid.min.css">

    
<link rel="stylesheet" href="/fontawesome/regular.min.css">

    
    
    
    
<meta name="generator" content="Hexo 6.3.0"><link rel="alternate" href="/atom.xml" title="Hexo" type="application/atom+xml">
</head>


<body>
<div class="progress-bar-container">
    

    
        <span class="pjax-progress-bar"></span>
        <span class="pjax-progress-icon">
            <i class="fa-solid fa-circle-notch fa-spin"></i>
        </span>
    
</div>


<main class="page-container">

    

    <div class="main-content-container">

        <div class="main-content-header">
            <header class="navbar-container">
    
    <div class="navbar-content">
        <div class="left">
            
            <a class="logo-title" href="/">
                
                Arie&#39;s Blog
                
            </a>
        </div>

        <div class="right">
            <!-- PC -->
            <div class="desktop">
                <ul class="navbar-list">
                    
                        
                            <li class="navbar-item">
                                <!-- Menu -->
                                <a class="" 
                                    href="/"  >
                                    
                                        
                                            <i class="fa-regular fa-house"></i>
                                        
                                        首页
                                    
                                </a>
                                <!-- Submenu -->
                                
                            </li>
                    
                        
                            <li class="navbar-item">
                                <!-- Menu -->
                                <a class="" 
                                    href="/archives"  >
                                    
                                        
                                            <i class="fa-regular fa-archive"></i>
                                        
                                        归档
                                    
                                </a>
                                <!-- Submenu -->
                                
                            </li>
                    
                        
                            <li class="navbar-item">
                                <!-- Menu -->
                                <a class="" 
                                    target="_blank" rel="noopener" href="https://status.evanluo.top/"  >
                                    
                                        
                                            <i class="fa-regular fa-chart-bar"></i>
                                        
                                        状态
                                    
                                </a>
                                <!-- Submenu -->
                                
                            </li>
                    
                        
                            <li class="navbar-item">
                                <!-- Menu -->
                                <a class="has-dropdown" 
                                    href="#" onClick="return false;">
                                    
                                        
                                            <i class="fa-regular fa-user"></i>
                                        
                                        关于&nbsp;<i class="fa-solid fa-chevron-down"></i>
                                    
                                </a>
                                <!-- Submenu -->
                                
                                    <ul class="sub-menu">
                                    
                                        <li>
                                        <a href="/about">ME
                                        </a>
                                        </li>
                                    
                                        <li>
                                        <a target="_blank" rel="noopener" href="https://github.com/EvanNotFound/hexo-theme-redefine">GITHUB
                                        </a>
                                        </li>
                                    
                                        <li>
                                        <a target="_blank" rel="noopener" href="https://ohevan.com">BLOG
                                        </a>
                                        </li>
                                    
                                        <li>
                                        <a href="/friends">友情链接
                                        </a>
                                        </li>
                                    
                                    </ul>
                                
                            </li>
                    
                        
                            <li class="navbar-item">
                                <!-- Menu -->
                                <a class="has-dropdown" 
                                    href="#" onClick="return false;">
                                    
                                        
                                            <i class="fa-regular fa-link"></i>
                                        
                                        链接&nbsp;<i class="fa-solid fa-chevron-down"></i>
                                    
                                </a>
                                <!-- Submenu -->
                                
                                    <ul class="sub-menu">
                                    
                                        <li>
                                        <a target="_blank" rel="noopener" href="https://www.levi104.com/">LINK1
                                        </a>
                                        </li>
                                    
                                    </ul>
                                
                            </li>
                    
                    
                        <li class="navbar-item search search-popup-trigger">
                            <i class="fa-solid fa-magnifying-glass"></i>
                        </li>
                    
                </ul>
            </div>
            <!-- Mobile -->
            <div class="mobile">
                
                    <div class="icon-item search search-popup-trigger"><i class="fa-solid fa-magnifying-glass"></i></div>
                
                <div class="icon-item navbar-bar">
                    <div class="navbar-bar-middle"></div>
                </div>
            </div>
        </div>
    </div>

    <!-- Mobile drawer -->
    <div class="navbar-drawer">
        <ul class="drawer-navbar-list">
            
                
                    <li class="drawer-navbar-item flex-center">
                        <a class="" 
                        href="/"  >
                             
                                
                                    <i class="fa-regular fa-house"></i>
                                
                                首页
                            
                        </a>
                    </li>
                    <!-- Submenu -->
                    
            
                
                    <li class="drawer-navbar-item flex-center">
                        <a class="" 
                        href="/archives"  >
                             
                                
                                    <i class="fa-regular fa-archive"></i>
                                
                                归档
                            
                        </a>
                    </li>
                    <!-- Submenu -->
                    
            
                
                    <li class="drawer-navbar-item flex-center">
                        <a class="" 
                        target="_blank" rel="noopener" href="https://status.evanluo.top/"  >
                             
                                
                                    <i class="fa-regular fa-chart-bar"></i>
                                
                                状态
                            
                        </a>
                    </li>
                    <!-- Submenu -->
                    
            
                
                    <li class="drawer-navbar-item flex-center">
                        <a class="has-dropdown" 
                        href="#" onClick="return false;">
                            
                                
                                    <i class="fa-regular fa-user"></i>
                                
                                关于&nbsp;<i class="fa-solid fa-chevron-down"></i>
                            
                        </a>
                    </li>
                    <!-- Submenu -->
                              
                        
                            <li class="dropdown-item flex-center">
                                <a class="dropdown-item" href="/about">ME</a>
                            </li>
                        
                            <li class="dropdown-item flex-center">
                                <a class="dropdown-item" target="_blank" rel="noopener" href="https://github.com/EvanNotFound/hexo-theme-redefine">GITHUB</a>
                            </li>
                        
                            <li class="dropdown-item flex-center">
                                <a class="dropdown-item" target="_blank" rel="noopener" href="https://ohevan.com">BLOG</a>
                            </li>
                        
                            <li class="dropdown-item flex-center">
                                <a class="dropdown-item" href="/friends">友情链接</a>
                            </li>
                        
                    
            
                
                    <li class="drawer-navbar-item flex-center">
                        <a class="has-dropdown" 
                        href="#" onClick="return false;">
                            
                                
                                    <i class="fa-regular fa-link"></i>
                                
                                链接&nbsp;<i class="fa-solid fa-chevron-down"></i>
                            
                        </a>
                    </li>
                    <!-- Submenu -->
                              
                        
                            <li class="dropdown-item flex-center">
                                <a class="dropdown-item" target="_blank" rel="noopener" href="https://www.levi104.com/">LINK1</a>
                            </li>
                        
                    
            

        </ul>
    </div>

    <div class="window-mask"></div>

</header>


        </div>

        <div class="main-content-body">

            

            <div class="main-content">

                
                    <div class="fade-in-down-animation">
    <div class="post-page-container">
        <div class="article-content-container">

            <div class="article-title">
                
                  <h1 class="article-title-regular">北大肖臻区块链笔记</h1>
                
              </div>
              
                     
            
            
                <div class="article-header">
                    <div class="avatar">
                        <img src="/images/ariehead.jpg">
                    </div>
                    <div class="info">
                        <div class="author">
                            <span class="name">Arie</span>
                            
                                <span class="author-label">Lv1</span>
                            
                        </div>
                        <div class="meta-info">
                            <div class="article-meta-info">
    <span class="article-date article-meta-item">
        <i class="fa-regular fa-pen-fancy"></i>&nbsp;
        <span class="desktop">2023-10-04 16:10:52</span>
        <span class="mobile">2023-10-04 16:10:52</span>
        <span class="hover-info">创建</span>
    </span>
    
        <span class="article-date article-meta-item">
            <i class="fa-regular fa-wrench"></i>&nbsp;
            <span class="desktop">2023-10-04 16:11:47</span>
            <span class="mobile">2023-10-04 16:11:47</span>
            <span class="hover-info">更新</span>
        </span>
    

    
    
        <span class="article-tags article-meta-item">
            <i class="fa-regular fa-tags"></i>&nbsp;
            <ul>
                
                    <li>
                        <a href="/tags/%E5%8C%BA%E5%9D%97%E9%93%BE%E5%85%A5%E9%97%A8/">区块链入门</a>&nbsp;
                    </li>
                
            </ul>
        </span>
    

    
    
        <span class="article-wordcount article-meta-item">
            <i class="fa-regular fa-typewriter"></i>&nbsp;<span>7.9k 字</span>
        </span>
    
    
        <span class="article-min2read article-meta-item">
            <i class="fa-regular fa-clock"></i>&nbsp;<span>35 分钟</span>
        </span>
    
    
        <span class="article-pv article-meta-item">
            <i class="fa-regular fa-eye"></i>&nbsp;<span id="busuanzi_value_page_pv"></span>
        </span>
    
</div>

                        </div>
                    </div>
                </div>
            

            <div class="article-content markdown-body">
                <p>以后的学习中会持续应用到这些知识点</p>
<h2 id="P1-基础介绍"><a href="#P1-基础介绍" class="headerlink" title="P1 基础介绍"></a>P1 基础介绍</h2><p>略</p>
<h2 id="P2密码学原理"><a href="#P2密码学原理" class="headerlink" title="P2密码学原理"></a>P2密码学原理</h2><p>讲了一些密码学专有名词</p>
<h3 id="工作量证明（要持续挖矿，无其他办法）"><a href="#工作量证明（要持续挖矿，无其他办法）" class="headerlink" title="工作量证明（要持续挖矿，无其他办法）"></a>工作量证明（要持续挖矿，无其他办法）</h3><p>工作量证明是一种基础性算法，它为矿工在工作量证明区块链上进行的工作设置难度和规则。 挖矿就是“工作”本身。 挖矿是向区块链中添加有效区块。 这很重要，因为链的长度有助于网络跟随区块链的正确分叉。 “工作”完成得越多，链越长，区块编号就越大，就更能确定网络达到最新状态。</p>
<h3 id="SHA-256"><a href="#SHA-256" class="headerlink" title="SHA-256"></a>SHA-256</h3><p>接收方的公钥和私钥配对才可以，然而SHA-256中轻易找到配对的可能性，和地球爆炸差不多，所以不用担心</p>
<h2 id="P3-数据结构"><a href="#P3-数据结构" class="headerlink" title="P3 数据结构"></a>P3 数据结构</h2><h3 id="Merkle-Tree"><a href="#Merkle-Tree" class="headerlink" title="Merkle Tree"></a>Merkle Tree</h3><p>merkle proof可以证明merkle tree 里某个交易是真实存在的</p>
<h3 id="（proof-of-membership-proof-of-inclusion）"><a href="#（proof-of-membership-proof-of-inclusion）" class="headerlink" title="（proof of membership&#x2F;proof of inclusion）"></a>（proof of membership&#x2F;proof of inclusion）</h3><p>时间复杂度为θ（log(n)）</p>
<p>![截屏2023-09-10 11.18.18](&#x2F;Users&#x2F;doumeili&#x2F;Library&#x2F;Application Support&#x2F;typora-user-images&#x2F;截屏2023-09-10 11.18.18.png)</p>
<p>可以从下（黄色tx）往上（根节点）验证，这些哈希值都是对的，就可以知道黄色交易是否存在</p>
<p>但是只验证一个分支，不能说明其他的分支真的没有问题</p>
<p>⬇️</p>
<p>如果人为制造Hash碰撞使得倒数第二层红绿hash保持不变的情况是不可行的，因为collision resistance</p>
<h3 id="proof-of-non-membership"><a href="#proof-of-non-membership" class="headerlink" title="proof of non-membership"></a>proof of non-membership</h3><p>1、把整棵树移过去检验</p>
<p>时间复杂度是θ(n)</p>
<p>更简单的方法</p>
<p>⬇️</p>
<p>2、把叶结点的哈希值都排一下序（sorted merkle tree）</p>
<p>![截屏2023-09-10 11.57.10](&#x2F;Users&#x2F;doumeili&#x2F;Library&#x2F;Application Support&#x2F;typora-user-images&#x2F;截屏2023-09-10 11.57.10.png)</p>
<p>找到想要查找的结点的哈希值，如果在这两个哈希之间，就按照红绿哈希往上查，红绿哈希如果都在根节点里，都是正确的，说明红绿哈希确实是在这个merkletree里面 而且是<strong>相邻</strong>的，但是我要查找的这个节点哈希值没看到，就说明是不存在的！！</p>
<p>时间复杂度是θ（log(n)）</p>
<p>![截屏2023-09-10 11.40.57](&#x2F;Users&#x2F;doumeili&#x2F;Library&#x2F;Application Support&#x2F;typora-user-images&#x2F;截屏2023-09-10 11.40.57.png)</p>
<p>无环情况下都可以用哈希指针代替普通指针。有环的情况下会依赖哈希指针（前一个），如果没有环就可以用。</p>
<h2 id="P4-BTC协议"><a href="#P4-BTC协议" class="headerlink" title="P4 BTC协议"></a>P4 BTC协议</h2><p>这一p有点长</p>
<h3 id="1、为什么用区块链？"><a href="#1、为什么用区块链？" class="headerlink" title="1、为什么用区块链？"></a><strong>1、为什么用区块链？</strong></h3><h4 id="a-可能会遭受双花攻击"><a href="#a-可能会遭受双花攻击" class="headerlink" title="a.可能会遭受双花攻击"></a>a.可能会遭受双花攻击</h4><p>花两次double spending </p>
<p>不像纸质货币，花一次就出去了，还有防伪标识不太好伪造。</p>
<h4 id="b-改进"><a href="#b-改进" class="headerlink" title="b.改进"></a>b.改进</h4><p>每次交易都和央行（货币发行方）核实一下货币是否是央行发行的，是否从前没有使用过，拥有者是否是交易的人，还要更改发行者。</p>
<p>正确可行，但每次都要经过央行，中心化。</p>
<h4 id="c-去中心化"><a href="#c-去中心化" class="headerlink" title="c.去中心化"></a>c.去中心化</h4><p>数字货币的发行-&gt;挖矿</p>
<p>怎么验证交易的有效性-&gt;数据结构（区块链）</p>
<p>![截屏2023-09-10 15.05.19](&#x2F;Users&#x2F;doumeili&#x2F;Library&#x2F;Application Support&#x2F;typora-user-images&#x2F;截屏2023-09-10 15.05.19.png)</p>
<p>1）交易要有签名</p>
<p>2）交易要包含货币来源（防止双花攻击）</p>
<p>擦掉的部分就是B双花攻击（没有验证来源）</p>
<p>如果想要给A转账怎么获得它的公钥</p>
<p>可能B‘伪造公钥偷给A转的钱，存在安全漏洞，所以要验证来源</p>
<p>这里强调一下非对称加解密</p>
<p>![image-20230910151430730](&#x2F;Users&#x2F;doumeili&#x2F;Library&#x2F;Application Support&#x2F;typora-user-images&#x2F;image-20230910151430730.png)</p>
<h3 id="2、区块结构"><a href="#2、区块结构" class="headerlink" title="2、区块结构"></a><strong>2、区块结构</strong></h3><h4 id="a-结构介绍"><a href="#a-结构介绍" class="headerlink" title="a.结构介绍"></a>a.结构介绍</h4><p>![截屏2023-09-10 15.20.48](&#x2F;Users&#x2F;doumeili&#x2F;Library&#x2F;Application Support&#x2F;typora-user-images&#x2F;截屏2023-09-10 15.20.48.png)</p>
<p>包括block header(包含hash)</p>
<p>和block body</p>
<p>merkle root hash(已经保证了transmit是没有被篡改的)</p>
<p>target(H(hash) &lt;&#x3D; target域)</p>
<p>nonce</p>
<h4 id="b-结点"><a href="#b-结点" class="headerlink" title="b.结点"></a>b.结点</h4><p><strong>full node</strong></p>
<p>全节点是拥有完整区块链帐本资料的节点，具备独立验证的能力来确认交易之有效性。具体来说全节点主要在处理下列四件事：</p>
<ol>
<li>储存所有历史交易资讯，资料公开透明</li>
<li>监测矿工挖出来的新区块，验证其合法性后同步该区块</li>
<li>监测区块链网络中的新交易资讯，验证每个交易的合法性</li>
<li>将验证过的「交易／区块资讯」广播给全网络节点</li>
</ol>
<p>一个节点只要下载了完整且最新的区块链资料，稳定运行验证交易和同步区块资讯，那它就是一个全节点了。由于每一个全节点都保有全网资料，所以即使其中部分节点出现问题，例如断网或被骇客攻击，都不会影响整个区块链网络的安全性。这即是「去中心化」记帐系统的优势所在。</p>
<p>同时，全节点的数量越多，也代表完整的区块链帐本被保存的份数越多，「不可篡改性」也就越强，整个区块链网络的安全性也随之提升。一但有人企图组织算力叛变，试图改变区块共识或发动双花攻击，其它正常运作的全节点可以即时验证拒绝掉这些交易。</p>
<p><strong>fully validating node</strong> </p>
<p><strong>light node</strong>（大多数讲的都是轻结点）</p>
<p>轻节点顾名思义即是轻量级的节点，具体定义是不储存或维护完整的区块链副本，只储存最小量的状态来作为发送或传递交易讯息的节点。(和区块链结构关系不大，只是有些区块链的特点)</p>
<p>整体而言，轻节点大致上具备以下几点特色：</p>
<ul>
<li>只储存每个区块的区块标头Block Header</li>
<li>不一定保持随时在线（获取最新的Block Header 资讯）</li>
<li>根据需求可以只保存与自己相关的交易内容</li>
<li>无法验证大多数交易的合法性，只能验证与自己相关交易的合法性</li>
<li>无法验证新区块的正确性</li>
<li>只能检测到当前的最长链，但无法知道哪条是最长合法链</li>
</ul>
<h4 id="c-共识"><a href="#c-共识" class="headerlink" title="c.共识"></a>c.共识</h4><p>如果你链上的内容和我不一样，怎样取得共识</p>
<p>distributed consensus</p>
<p>distributed hash table</p>
<p>关于共识，有很多impossibility result</p>
<p>·FLP</p>
<p>asynchronous(网络传输时延无上限)</p>
<p>即使只有一个成员有问题（faulty），也不会取得共识</p>
<p>·CAP Theorem</p>
<p>分布式系统三个性质</p>
<p>Consistency</p>
<p>Availability</p>
<p>Partition tolerance</p>
<p>最多满足两个，不可能三个都满足</p>
<h4 id="d-比特币中的共识协议"><a href="#d-比特币中的共识协议" class="headerlink" title="d.比特币中的共识协议"></a>d.比特币中的共识协议</h4><p><strong>1)Consensus in BitCoin</strong></p>
<p>需要投票</p>
<p>最大的问题是membership，谁有投票权</p>
<p>如果一个人有一台超级计算机，每天就创建不同的账户，然后只要创建了一半就有控制权了，<strong>女巫攻击</strong></p>
<p>⬇️</p>
<p>为了防范这种攻击，区块链计算出一种用计算力投票，不是用账户投票</p>
<p>H(block header) &lt;&#x3D; target</p>
<p>nonce</p>
<p>计算力： 生成随机数，如果某个节点找到了符合要求的nonce（puzzle friendly 保证了只能一个个去算nonce，无捷径），hash rate 就获得了记账权，往去中心化账本里写入下一个区块的权利。</p>
<p>其他区块要验证这个区块的合法性，即验证细节，验证是否有发布权</p>
<p><strong>2)forking attack</strong></p>
<p>要验证来源，钱是否在某一分叉上被使用过</p>
<p>![截屏2023-09-11 09.09.09](&#x2F;Users&#x2F;doumeili&#x2F;Library&#x2F;Application Support&#x2F;typora-user-images&#x2F;截屏2023-09-11 09.09.09.png)</p>
<p>区块链本身自己也会出现分叉</p>
<p>有两个区块在几乎同一时间获得记账权，会形成两个等长的区块</p>
<p>![截屏2023-09-11 09.17.44](&#x2F;Users&#x2F;doumeili&#x2F;Library&#x2F;Application Support&#x2F;typora-user-images&#x2F;截屏2023-09-11 09.17.44.png)</p>
<p>如果向下继续扩展区块，就说明是认可了这个区块</p>
<p>![截屏2023-09-11 09.23.15](&#x2F;Users&#x2F;doumeili&#x2F;Library&#x2F;Application Support&#x2F;typora-user-images&#x2F;截屏2023-09-11 09.23.15.png)</p>
<p><strong>3)block reward</strong></p>
<p>谁来决定发行货币</p>
<p>coinbase transaction</p>
<p>产生新的比特币的唯一途径</p>
<p>初块奖励：50BTC </p>
<p>21w个区块之后，这个奖励就要减半 -&gt; 25BTC -&gt; 12.5BTC</p>
<p>获得计算权的过程：挖矿mining</p>
<p>比特币：digital gold</p>
<h2 id="P4-比特币系统的具体实现"><a href="#P4-比特币系统的具体实现" class="headerlink" title="P4 比特币系统的具体实现"></a>P4 比特币系统的具体实现</h2><h4 id="a-UTXO"><a href="#a-UTXO" class="headerlink" title="a.UTXO"></a>a.UTXO</h4><p>比特币系统依赖于UTXO（Unspent Transaction Output）数据结构 -&gt;没有被花出去的交易的集合</p>
<p>UTXO中每个元素 产生这个输出的交易的哈希值 &amp;&amp; 它在这个交易里是第几个输出 &#x3D;&gt; 定位到它是UTXO中哪一个输出</p>
<p>total inputs &#x3D; total outputs</p>
<h4 id="b-transaction-fee"><a href="#b-transaction-fee" class="headerlink" title="b.transaction fee"></a>b.transaction fee</h4><p>随着时间越来越长，区块数越来越多，费用也会越来越少</p>
<h4 id="c-account-based-ledger"><a href="#c-account-based-ledger" class="headerlink" title="c.account-based ledger"></a>c.account-based ledger</h4><p>![截屏2023-09-11 16.31.21](&#x2F;Users&#x2F;doumeili&#x2F;Library&#x2F;Application Support&#x2F;typora-user-images&#x2F;截屏2023-09-11 16.31.21.png)</p>
<h4 id="d-挖矿过程的概率分析"><a href="#d-挖矿过程的概率分析" class="headerlink" title="d.挖矿过程的概率分析"></a>d.挖矿过程的概率分析</h4><p>每次随机获得随机数的过程⬇️</p>
<p><strong>Bernoulli trial</strong> : a random experiment with binary outcome(掷硬币)</p>
<p><strong>Bernoulli proces</strong>s：a sequence of independent Bernoulli trials</p>
<p>⬆️特点:memoryless(上一次掷反面硬币，下一次不一定会掷到正面)</p>
<p>很多情况下，需要尝试很多次nounce , 实验次数很多，成功的概率很少，这时候就近似Poisson process</p>
<p>![截屏2023-09-12 00.52.47](&#x2F;Users&#x2F;doumeili&#x2F;Library&#x2F;Application Support&#x2F;typora-user-images&#x2F;截屏2023-09-12 00.52.47.png)</p>
<p>一个挖矿的特点：挖矿公平性的保证 -&gt; progress free（相当于前面的活白干了）</p>
<p>当计算力大的矿工挖矿，它的计算力会比另一个矿工高出不成比例的优势（前面已经失败10倍多了，下一步肯定要成功性大一点），定义了progress free 会更公平。</p>
<p><strong>比特币的总量</strong></p>
<p><strong>geometric series</strong></p>
<p>![截屏2023-09-12 01.14.30](&#x2F;Users&#x2F;doumeili&#x2F;Library&#x2F;Application Support&#x2F;typora-user-images&#x2F;截屏2023-09-12 01.14.30.png)</p>
<p>挖矿的过程对维护比特币是至关重要的。</p>
<p>Bitcoin is secured by mining.</p>
<p>我们不能百分百保证进入区块的结点都合法</p>
<p><strong>有恶意的结点</strong></p>
<p>通过判断诚实的结点是否接受这个区块</p>
<p>（M有记账权，把A交易硬往里面写，结果诚实结点不接受，因为其包含非法交易）</p>
<p>比特币要求扩展‘最长合法链’</p>
<p>![截屏2023-09-13 09.46.26](&#x2F;Users&#x2F;doumeili&#x2F;Library&#x2F;Application Support&#x2F;typora-user-images&#x2F;截屏2023-09-13 09.46.26.png)</p>
<p>区块要等6个confirmation 才能确认前面交易有效，一个区块确认是10分钟</p>
<p>![截屏2023-09-14 09.03.34](&#x2F;Users&#x2F;doumeili&#x2F;Library&#x2F;Application Support&#x2F;typora-user-images&#x2F;截屏2023-09-14 09.03.34.png)</p>
<p>zero confirmation </p>
<p>交易发布出去之后，还没验证合法签名的时候</p>
<p>zero confirmation 用的还是比较普遍的</p>
<p>⬇️</p>
<p>1、天然有一段处理时间</p>
<p>2、一般出现两个交易的话，诚实结点是不会认后一个交易的</p>
<p>selfish mining 攻击</p>
<p>私自挖矿，挖7个区块，藏着不发布，等上面6个确认全部完事之后，一下子全部发布出去，把上边那个盖掉。</p>
<h2 id="P5-挖矿难度"><a href="#P5-挖矿难度" class="headerlink" title="P5 挖矿难度"></a>P5 挖矿难度</h2><h3 id="为什么要加大挖矿难度？"><a href="#为什么要加大挖矿难度？" class="headerlink" title="为什么要加大挖矿难度？"></a>为什么要加大挖矿难度？</h3><p>![截屏2023-09-16 14.59.27](&#x2F;Users&#x2F;doumeili&#x2F;Library&#x2F;Application Support&#x2F;typora-user-images&#x2F;截屏2023-09-16 14.59.27.png)</p>
<p>隔一段时间会减少出块时间</p>
<p>调整挖矿难度，使挖矿时间保持稳定</p>
<h3 id="怎么加大挖矿难度？"><a href="#怎么加大挖矿难度？" class="headerlink" title="怎么加大挖矿难度？"></a>怎么加大挖矿难度？</h3><p>每两个星期调整一下阈值</p>
<p>![截屏2023-09-16 15.11.56](&#x2F;Users&#x2F;doumeili&#x2F;Library&#x2F;Application Support&#x2F;typora-user-images&#x2F;截屏2023-09-16 15.11.56.png)</p>
<p>如果出块时间大于两个星期 就调小挖矿难度；反之调大</p>
<p>![截屏2023-09-16 15.24.56](&#x2F;Users&#x2F;doumeili&#x2F;Library&#x2F;Application Support&#x2F;typora-user-images&#x2F;截屏2023-09-16 15.24.56.png)</p>
<p>![截屏2023-09-16 15.25.13](&#x2F;Users&#x2F;doumeili&#x2F;Library&#x2F;Application Support&#x2F;typora-user-images&#x2F;截屏2023-09-16 15.25.13.png)</p>
<p>![截屏2023-09-16 15.25.25](&#x2F;Users&#x2F;doumeili&#x2F;Library&#x2F;Application Support&#x2F;typora-user-images&#x2F;截屏2023-09-16 15.25.25.png)</p>
<p>![截屏2023-09-16 15.25.49](&#x2F;Users&#x2F;doumeili&#x2F;Library&#x2F;Application Support&#x2F;typora-user-images&#x2F;截屏2023-09-16 15.25.49.png)</p>
<h2 id="P6-比特币挖矿"><a href="#P6-比特币挖矿" class="headerlink" title="P6 比特币挖矿"></a>P6 比特币挖矿</h2><p>![截屏2023-09-16 15.27.30](&#x2F;Users&#x2F;doumeili&#x2F;Library&#x2F;Application Support&#x2F;typora-user-images&#x2F;截屏2023-09-16 15.27.30.png)</p>
<p>沿着最长合法链挖下去</p>
<p>最先听到的分叉</p>
<p>![截屏2023-09-16 15.29.24](&#x2F;Users&#x2F;doumeili&#x2F;Library&#x2F;Application Support&#x2F;typora-user-images&#x2F;截屏2023-09-16 15.29.24.png)</p>
<p>每个矿主会给矿工分布不同的任务，矿工去做。</p>
<p>![截屏2023-09-16 16.25.51](&#x2F;Users&#x2F;doumeili&#x2F;Library&#x2F;Application Support&#x2F;typora-user-images&#x2F;截屏2023-09-16 16.25.51.png)</p>
<p>矿石分布</p>
<p>![截屏2023-09-16 16.26.41](&#x2F;Users&#x2F;doumeili&#x2F;Library&#x2F;Application Support&#x2F;typora-user-images&#x2F;截屏2023-09-16 16.26.41.png)</p>
<h2 id="P7-比特币脚本"><a href="#P7-比特币脚本" class="headerlink" title="P7 比特币脚本"></a>P7 比特币脚本</h2><p>![截屏2023-09-17 09.00.03](&#x2F;Users&#x2F;doumeili&#x2F;Library&#x2F;Application Support&#x2F;typora-user-images&#x2F;截屏2023-09-17 09.00.03.png)</p>
<p>![截屏2023-09-17 09.01.34](&#x2F;Users&#x2F;doumeili&#x2F;Library&#x2F;Application Support&#x2F;typora-user-images&#x2F;截屏2023-09-17 09.01.34.png)</p>
<p>![截屏2023-09-17 09.01.52](&#x2F;Users&#x2F;doumeili&#x2F;Library&#x2F;Application Support&#x2F;typora-user-images&#x2F;截屏2023-09-17 09.01.52.png)</p>
<p>![截屏2023-09-17 09.04.26](&#x2F;Users&#x2F;doumeili&#x2F;Library&#x2F;Application Support&#x2F;typora-user-images&#x2F;截屏2023-09-17 09.04.26.png)</p>
<p>![截屏2023-09-17 09.16.14](&#x2F;Users&#x2F;doumeili&#x2F;Library&#x2F;Application Support&#x2F;typora-user-images&#x2F;截屏2023-09-17 09.16.14.png)</p>
<p>![截屏2023-09-17 09.17.25](&#x2F;Users&#x2F;doumeili&#x2F;Library&#x2F;Application Support&#x2F;typora-user-images&#x2F;截屏2023-09-17 09.17.25.png)</p>
<p>⬆️销毁比特币的方法（小币种）、往区块链里写入一些不可篡改的东西</p>
<p>coinbase:销毁比特币，但是只有有记账权的用户才可以</p>
<p>![截屏2023-09-17 09.20.36](&#x2F;Users&#x2F;doumeili&#x2F;Library&#x2F;Application Support&#x2F;typora-user-images&#x2F;截屏2023-09-17 09.20.36.png)</p>
<h2 id="P8-比特币系统分叉"><a href="#P8-比特币系统分叉" class="headerlink" title="P8 比特币系统分叉"></a>P8 比特币系统分叉</h2><h4 id="hard-fork"><a href="#hard-fork" class="headerlink" title="hard fork"></a>hard fork</h4><p>block size limit</p>
<p>![截屏2023-09-17 11.20.11](&#x2F;Users&#x2F;doumeili&#x2F;Library&#x2F;Application Support&#x2F;typora-user-images&#x2F;截屏2023-09-17 11.20.11.png)</p>
<p>产生分叉：</p>
<p>![截屏2023-09-17 11.22.31](&#x2F;Users&#x2F;doumeili&#x2F;Library&#x2F;Application Support&#x2F;typora-user-images&#x2F;截屏2023-09-17 11.22.31.png)</p>
<p> 原因：</p>
<p>上方合法链出现大区块，算力大，很多区块都认可上面的，但还是有认可下面的区块，但两条链又都合法，所以这个分叉是不会消失的，会一直存在</p>
<p>![截屏2023-09-17 11.26.47](&#x2F;Users&#x2F;doumeili&#x2F;Library&#x2F;Application Support&#x2F;typora-user-images&#x2F;截屏2023-09-17 11.26.47.png)</p>
<p>历史上出现的分叉</p>
<h4 id="soft-fork"><a href="#soft-fork" class="headerlink" title="soft fork"></a>soft fork</h4><p>![截屏2023-09-17 13.51.12](&#x2F;Users&#x2F;doumeili&#x2F;Library&#x2F;Application Support&#x2F;typora-user-images&#x2F;截屏2023-09-17 13.51.12.png)</p>
<p>下面那个区块自己都会放弃，跑到上面去挖，挖出大区块的话，又会反复。系统不会有永久性的分叉。</p>
<p>软分叉的例子</p>
<p>![截屏2023-09-17 14.03.38](&#x2F;Users&#x2F;doumeili&#x2F;Library&#x2F;Application Support&#x2F;typora-user-images&#x2F;截屏2023-09-17 14.03.38.png)</p>
<p>总结：</p>
<p>硬分叉：所有节点都要更新，才能永久不分叉</p>
<p>软分叉：有些节点可以不更新</p>
<h2 id="P9-BTC问答-回顾"><a href="#P9-BTC问答-回顾" class="headerlink" title="P9 BTC问答-回顾"></a>P9 BTC问答-回顾</h2><p><strong>1、接受者不在线怎么办？</strong></p>
<p>不受影响，它在线or不在线都不影响转账</p>
<p><strong>2、向一个人转账，这个节点是原来从来没见到过的</strong></p>
<p>有可能，只有第一次这个账户转钱的时候才知道</p>
<p><strong>3、账户私钥丢失了怎么办？</strong></p>
<p>丢了就没办法了，钱在里面就是死钱了，没办法取出来。比特币系统里没人给你重置密码。在交易所里需要验证身份才能设置账户。交易所并不是很安全，过去被黑了很多次。 eg.Mt.Gox</p>
<p><strong>4、私钥泄露了怎么办？</strong></p>
<p>把钱尽快转到安全账户上</p>
<p><strong>5、转账的时候写错了地址怎么办</strong></p>
<p>没有办法取消已经发布的交易</p>
<p><strong>6、会不会有矿工偷答案？</strong></p>
<p>矿工没挖到正确的nounce，它发现一个nounce，一查，发现满足要求，就直接写上去。</p>
<p>不会，每个矿工挖到的nounce是和它的收款地址绑在一起的</p>
<p>![截屏2023-09-17 14.46.33](&#x2F;Users&#x2F;doumeili&#x2F;Library&#x2F;Application Support&#x2F;typora-user-images&#x2F;截屏2023-09-17 14.46.33.png)</p>
<p>比特币大小的情况</p>
<p>![截屏2023-09-17 14.48.24](&#x2F;Users&#x2F;doumeili&#x2F;Library&#x2F;Application Support&#x2F;typora-user-images&#x2F;截屏2023-09-17 14.48.24.png)</p>
<p>交易情况</p>
<p>每个区块上的上限交易是4000个</p>
<h2 id="P10-BTC-匿名性"><a href="#P10-BTC-匿名性" class="headerlink" title="P10 BTC-匿名性"></a>P10 BTC-匿名性</h2><p>privacy<br>posedonyity化名</p>
<p>![截屏2023-09-18 09.45.03](&#x2F;Users&#x2F;doumeili&#x2F;Library&#x2F;Application Support&#x2F;typora-user-images&#x2F;截屏2023-09-18 09.45.03.png)</p>
<p>可能破坏比特币匿名性的几个方面</p>
<p>1、一个人可能同时生成几个地址账户，账户之间还可能关联</p>
<p>2、这些地址账户可能和现实身份也有关联，一旦和现实世界有所关联，就有可能会泄露身份</p>
<p>比特币不可篡改不好的一点-&gt;隐私泄露 交易永远存在</p>
<h3 id="零知识证明"><a href="#零知识证明" class="headerlink" title="零知识证明"></a>零知识证明</h3><p>![截屏2023-09-21 11.07.12](&#x2F;Users&#x2F;doumeili&#x2F;Library&#x2F;Application Support&#x2F;typora-user-images&#x2F;截屏2023-09-21 11.07.12.png)</p>
<h4 id="同态隐藏"><a href="#同态隐藏" class="headerlink" title="同态隐藏"></a>同态隐藏</h4><p>![截屏2023-09-21 11.08.52](&#x2F;Users&#x2F;doumeili&#x2F;Library&#x2F;Application Support&#x2F;typora-user-images&#x2F;截屏2023-09-21 11.08.52.png)</p>
<p>hiding property</p>
<p>例子</p>
<p>![截屏2023-09-21 11.13.19](&#x2F;Users&#x2F;doumeili&#x2F;Library&#x2F;Application Support&#x2F;typora-user-images&#x2F;截屏2023-09-21 11.13.19.png)</p>
<p>![截屏2023-09-21 11.13.45](&#x2F;Users&#x2F;doumeili&#x2F;Library&#x2F;Application Support&#x2F;typora-user-images&#x2F;截屏2023-09-21 11.13.45.png)</p>
<h4 id="盲签"><a href="#盲签" class="headerlink" title="盲签"></a>盲签</h4><p>![截屏2023-09-21 11.28.40](&#x2F;Users&#x2F;doumeili&#x2F;Library&#x2F;Application Support&#x2F;typora-user-images&#x2F;截屏2023-09-21 11.28.40.png)</p>
<p>银行不知道A和B的编号</p>
<h4 id="零币和零钞"><a href="#零币和零钞" class="headerlink" title="零币和零钞"></a><strong>零币和零钞</strong></h4><p>![截屏2023-09-30 14.16.09](&#x2F;Users&#x2F;doumeili&#x2F;Library&#x2F;Application Support&#x2F;typora-user-images&#x2F;截屏2023-09-30 14.16.09.png)</p>
<h2 id="P11BTC-思考"><a href="#P11BTC-思考" class="headerlink" title="P11BTC-思考"></a>P11BTC-思考</h2><h3 id="1、哈希指针"><a href="#1、哈希指针" class="headerlink" title="1、哈希指针"></a>1、哈希指针</h3><p>每一个区块都有（key,value），我们通过查找这个可以向上寻找每一个区块</p>
<h3 id="2、区块恋"><a href="#2、区块恋" class="headerlink" title="2、区块恋"></a>2、区块恋</h3><p>爱情见证：买一点币，两段私钥一人一段，分手了就无法合起来取钱。</p>
<p>不要把一段私钥分成几段，破解难度大，而且不灵活。</p>
<p>多重签名就可以用签名取钱。</p>
<h3 id="3、分布式共识"><a href="#3、分布式共识" class="headerlink" title="3、分布式共识"></a>3、分布式共识</h3><h4 id="为什么比特币系统能够绕过分布式共识中的那些不可能结论？"><a href="#为什么比特币系统能够绕过分布式共识中的那些不可能结论？" class="headerlink" title="为什么比特币系统能够绕过分布式共识中的那些不可能结论？"></a>为什么比特币系统能够绕过分布式共识中的那些不可能结论？</h4><p>只是达到了有限共识，没有达到真正意义上的共识。</p>
<p>搞科研是很有意义的，不要被学术界的思维限制了想象力。</p>
<h3 id="4、比特币的稀缺性"><a href="#4、比特币的稀缺性" class="headerlink" title="4、比特币的稀缺性"></a>4、比特币的稀缺性</h3><p>稀缺的东西是不适合来做货币的。出块奖励从最开始的50个比特币降到现在的12.5，在以太坊中就没有这种情况。</p>
<p>总值固定的东西也不适合做货币。</p>
<p>一个好的货币是需要有通货膨胀的功能的，类比黄金。房价越涨越高，有钱的人一直🈶️房子，没钱的人永远买不起房子。</p>
<h3 id="5、量子计算"><a href="#5、量子计算" class="headerlink" title="5、量子计算"></a>5、量子计算</h3><p>现在很多还没投入使用量子计算。</p>
<h2 id="P12-ETH以太坊概述"><a href="#P12-ETH以太坊概述" class="headerlink" title="P12 ETH以太坊概述"></a>P12 ETH以太坊概述</h2><p><strong>以太坊–区块链2.0</strong></p>
<p>减少出块时间</p>
<p>![截屏2023-09-30 15.30.27](&#x2F;Users&#x2F;doumeili&#x2F;Library&#x2F;Application Support&#x2F;typora-user-images&#x2F;截屏2023-09-30 15.30.27.png)</p>
<p>挖矿证明-&gt; 权益证明</p>
<h3 id="smart-contract"><a href="#smart-contract" class="headerlink" title="smart contract"></a>smart contract</h3><p>![截屏2023-09-30 15.33.02](&#x2F;Users&#x2F;doumeili&#x2F;Library&#x2F;Application Support&#x2F;typora-user-images&#x2F;截屏2023-09-30 15.33.02.png)</p>
<h2 id="P13-ETH账户"><a href="#P13-ETH账户" class="headerlink" title="P13 ETH账户"></a>P13 ETH账户</h2><p>![截屏2023-09-30 15.45.30](&#x2F;Users&#x2F;doumeili&#x2F;Library&#x2F;Application Support&#x2F;typora-user-images&#x2F;截屏2023-09-30 15.45.30.png)</p>
<p>双花攻击：</p>
<p>花钱的人不诚实：申请了两遍交易</p>
<p>重放攻击：</p>
<p>收钱的人不诚实：说人家没发，重新广播这个交易，给发钱的人扣了两次</p>
<p>防范这种攻击：</p>
<p>加一个计数器nonce，看进行过多少次交易</p>
<h3 id="账户"><a href="#账户" class="headerlink" title="账户"></a>账户</h3><p>![截屏2023-09-30 15.55.10](&#x2F;Users&#x2F;doumeili&#x2F;Desktop&#x2F;截屏2023-09-30 15.55.10.png)</p>
<p>两种账户：</p>
<p>外部账户（公私钥对控制，可以发起合约，nonce计入调用次数）</p>
<p>合约账户（还有code和storage 不能发起合约）</p>
<p>![截屏2023-09-30 15.57.05](&#x2F;Users&#x2F;doumeili&#x2F;Library&#x2F;Application Support&#x2F;typora-user-images&#x2F;截屏2023-09-30 15.57.05.png)</p>
<h2 id="P14-以太坊中的状态树（半懵半懂）"><a href="#P14-以太坊中的状态树（半懵半懂）" class="headerlink" title="P14 以太坊中的状态树（半懵半懂）"></a>P14 以太坊中的状态树（半懵半懂）</h2><p>每个状态创建出一棵merkle tree</p>
<p>👇</p>
<p>一张哈希表对应一棵merkle tree 但是如果一旦有变化，就要重新创建一棵merkle tree 代价太大了</p>
<p>👇</p>
<p>不排序的merkle tree和 树的形状不唯一是个问题</p>
<p>👇</p>
<p>以太坊的数据结构</p>
<p>![截屏2023-09-30 16.47.24](&#x2F;Users&#x2F;doumeili&#x2F;Library&#x2F;Application Support&#x2F;typora-user-images&#x2F;截屏2023-09-30 16.47.24.png)</p>
<p>👇</p>
<p>占用存储空间</p>
<p>![截屏2023-09-30 17.03.07](&#x2F;Users&#x2F;doumeili&#x2F;Library&#x2F;Application Support&#x2F;typora-user-images&#x2F;截屏2023-09-30 17.03.07.png)</p>
<p>👇</p>
<p>merkle tree 哈希指针</p>
<p>binary tree 正常指针</p>
<p>![截屏2023-10-01 11.06.08](&#x2F;Users&#x2F;doumeili&#x2F;Library&#x2F;Application Support&#x2F;typora-user-images&#x2F;截屏2023-10-01 11.06.08.png)</p>
<p>根哈希值的作用：</p>
<p>防篡改，只要根哈希不变，整棵树就不会被篡改</p>
<p>merkle proof: 证明账户上的余额是多少</p>
<p>![截屏2023-10-01 11.13.24](&#x2F;Users&#x2F;doumeili&#x2F;Library&#x2F;Application Support&#x2F;typora-user-images&#x2F;截屏2023-10-01 11.13.24.png)</p>
<p>保存历史状态：方便回滚</p>
<p>![截屏2023-10-01 11.32.40](&#x2F;Users&#x2F;doumeili&#x2F;Library&#x2F;Application Support&#x2F;typora-user-images&#x2F;截屏2023-10-01 11.32.40.png)</p>
<p>![截屏2023-10-01 11.35.11](&#x2F;Users&#x2F;doumeili&#x2F;Library&#x2F;Application Support&#x2F;typora-user-images&#x2F;截屏2023-10-01 11.35.11.png)</p>
<h2 id="P15-交易树和收据树"><a href="#P15-交易树和收据树" class="headerlink" title="P15 交易树和收据树"></a>P15 交易树和收据树</h2><p>每个区块的交易树和收据树都是独立的，不共享节点</p>
<p>bloom filter:可以快速查找节点在不在一个比较大的集合里面</p>
<p>![截屏2023-10-01 21.15.10](&#x2F;Users&#x2F;doumeili&#x2F;Library&#x2F;Application Support&#x2F;typora-user-images&#x2F;截屏2023-10-01 21.15.10.png)</p>
<p>元素映射到地址里面，可能两个数会同时映射到同一个地址。（哈希碰撞&#x2F;d&#x3D;a）它可能会误报，但是不会漏报。</p>
<p>后面的没听懂。。。太难了妈的</p>
<h2 id="P16-GHOST"><a href="#P16-GHOST" class="headerlink" title="P16 GHOST"></a>P16 GHOST</h2><p>![截屏2023-10-02 10.21.08](&#x2F;Users&#x2F;doumeili&#x2F;Library&#x2F;Application Support&#x2F;typora-user-images&#x2F;截屏2023-10-02 10.21.08.png)</p>
<p>没有挖到区块奖励的话，也可以有安慰奖：叔父区块，可以得到7&#x2F;8的出块奖励</p>
<p>相当于另外两个区块给他招过来了</p>
<p>![截屏2023-10-02 10.23.55](&#x2F;Users&#x2F;doumeili&#x2F;Library&#x2F;Application Support&#x2F;typora-user-images&#x2F;截屏2023-10-02 10.23.55.png)</p>
<p>![截屏2023-10-02 10.31.30](&#x2F;Users&#x2F;doumeili&#x2F;Library&#x2F;Application Support&#x2F;typora-user-images&#x2F;截屏2023-10-02 10.31.30.png)</p>
<p>叔父区块：必须和当前区块有7⃣️代以内的共同祖先。</p>
<p>![截屏2023-10-02 10.36.56](&#x2F;Users&#x2F;doumeili&#x2F;Library&#x2F;Application Support&#x2F;typora-user-images&#x2F;截屏2023-10-02 10.36.56.png)</p>
<p>👆</p>
<p>检查多重签名的合法性</p>
<p>有一个bug，必须要事先压一个没用的元素进去，否则就通过不了</p>
<p>![截屏2023-10-02 10.39.44](&#x2F;Users&#x2F;doumeili&#x2F;Library&#x2F;Application Support&#x2F;typora-user-images&#x2F;截屏2023-10-02 10.39.44.png)</p>
<p>👇</p>
<p>另一种情况</p>
<p>![截屏2023-10-02 10.51.59](&#x2F;Users&#x2F;doumeili&#x2F;Library&#x2F;Application Support&#x2F;typora-user-images&#x2F;截屏2023-10-02 10.51.59.png)</p>
<p>下面那条链可能会分叉攻击，攻击上面那条，成功了就成功，不成功回滚，被招安过去也还是有出块奖励。</p>
<p>![截屏2023-10-02 10.58.07](&#x2F;Users&#x2F;doumeili&#x2F;Library&#x2F;Application Support&#x2F;typora-user-images&#x2F;截屏2023-10-02 10.58.07.png)</p>
<p>鼓励出现分叉之后进行及时合并</p>
<p>举例子🌰</p>
<p>![截屏2023-10-02 10.59.46](&#x2F;Users&#x2F;doumeili&#x2F;Library&#x2F;Application Support&#x2F;typora-user-images&#x2F;截屏2023-10-02 10.59.46.png)</p>
<h2 id="P17-挖矿算法"><a href="#P17-挖矿算法" class="headerlink" title="P17 挖矿算法"></a>P17 挖矿算法</h2><p>bug bounty : 悬金算法</p>
<p>asic矿机里面有一个puzzle：内存单元：存奇数个，减少内存资源，有偶数就算另一半。时间复杂度会更高</p>
<p>⬇️</p>
<p>这个算法很好但是我们想做到的是：普通计算机能挖矿。</p>
<p>莱特币和比特币的内存单元和算法不太一样，如下👇</p>
<p>![截屏2023-10-03 00.59.59](&#x2F;Users&#x2F;doumeili&#x2F;Library&#x2F;Application Support&#x2F;typora-user-images&#x2F;截屏2023-10-03 00.59.59.png)</p>
<p>![截屏2023-10-03 01.00.49](&#x2F;Users&#x2F;doumeili&#x2F;Library&#x2F;Application Support&#x2F;typora-user-images&#x2F;截屏2023-10-03 01.00.49.png)</p>
<p>![截屏2023-10-03 01.01.28](&#x2F;Users&#x2F;doumeili&#x2F;Library&#x2F;Application Support&#x2F;typora-user-images&#x2F;截屏2023-10-03 01.01.28.png)</p>
<p>![截屏2023-10-03 01.02.38](&#x2F;Users&#x2F;doumeili&#x2F;Library&#x2F;Application Support&#x2F;typora-user-images&#x2F;截屏2023-10-03 01.02.38.png)</p>
<p>矿工用来挖矿的函数以及轻结点用来验证的函数</p>
<p>![截屏2023-10-03 01.02.56](&#x2F;Users&#x2F;doumeili&#x2F;Library&#x2F;Application Support&#x2F;typora-user-images&#x2F;截屏2023-10-03 01.02.56.png)</p>
<p>​	轻结点只下载块头就能验证这个区块是否符合挖矿难度要求</p>
<p>![截屏2023-10-03 01.11.15](&#x2F;Users&#x2F;doumeili&#x2F;Library&#x2F;Application Support&#x2F;typora-user-images&#x2F;截屏2023-10-03 01.11.15.png)</p>
<p>重点❗️</p>
<p>![截屏2023-10-03 01.12.02](&#x2F;Users&#x2F;doumeili&#x2F;Library&#x2F;Application Support&#x2F;typora-user-images&#x2F;截屏2023-10-03 01.12.02.png)</p>
<p>每次要用2个数，128个数，这128个数是由前面256个数来算出来的。</p>
<p>👇</p>
<p>POW -&gt; POS的转变</p>
<p>pre-mining 预挖矿</p>
<h2 id="P18-难度调整算法"><a href="#P18-难度调整算法" class="headerlink" title="P18 难度调整算法"></a>P18 难度调整算法</h2><p>![截屏2023-10-03 09.42.30](&#x2F;Users&#x2F;doumeili&#x2F;Library&#x2F;Application Support&#x2F;typora-user-images&#x2F;截屏2023-10-03 09.42.30.png)</p>
<p>![截屏2023-10-03 09.43.20](&#x2F;Users&#x2F;doumeili&#x2F;Library&#x2F;Application Support&#x2F;typora-user-images&#x2F;截屏2023-10-03 09.43.20.png)</p>
<p>叔父区块得到区块奖励，它的父区块也要得到奖励，那么总供应量就要增加，所以要提高挖矿难度</p>
<p>![截屏2023-10-03 09.44.58](&#x2F;Users&#x2F;doumeili&#x2F;Library&#x2F;Application Support&#x2F;typora-user-images&#x2F;截屏2023-10-03 09.44.58.png)</p>
<p>👇</p>
<p>Hs-P(H)Hs 当前区块间隔 &#x2F;9 向下取整</p>
<p>![截屏2023-10-03 09.47.26](&#x2F;Users&#x2F;doumeili&#x2F;Library&#x2F;Application Support&#x2F;typora-user-images&#x2F;截屏2023-10-03 09.47.26.png)</p>
<p>👇</p>
<p>“为什么要&#x2F;9”</p>
<p>![截屏2023-10-03 09.48.07](&#x2F;Users&#x2F;doumeili&#x2F;Library&#x2F;Application Support&#x2F;typora-user-images&#x2F;截屏2023-10-03 09.48.07.png)</p>
<p>![截屏2023-10-03 09.50.26](&#x2F;Users&#x2F;doumeili&#x2F;Desktop&#x2F;截屏2023-10-03 09.50.26.png)</p>
<p>![截屏2023-10-03 09.54.20](&#x2F;Users&#x2F;doumeili&#x2F;Library&#x2F;Application Support&#x2F;typora-user-images&#x2F;截屏2023-10-03 09.54.20.png)</p>
<p>![截屏2023-10-03 09.55.41](&#x2F;Users&#x2F;doumeili&#x2F;Library&#x2F;Application Support&#x2F;typora-user-images&#x2F;截屏2023-10-03 09.55.41.png)</p>
<p>分析以下代码👇</p>
<p>挖矿难度的计算</p>
<p>![截屏2023-10-03 09.57.15](&#x2F;Users&#x2F;doumeili&#x2F;Library&#x2F;Application Support&#x2F;typora-user-images&#x2F;截屏2023-10-03 09.57.15.png)</p>
<p>![截屏2023-10-03 09.58.43](&#x2F;Users&#x2F;doumeili&#x2F;Library&#x2F;Application Support&#x2F;typora-user-images&#x2F;截屏2023-10-03 09.58.43.png)</p>
<p>最下面的两行代码是 下限</p>
<p>![截屏2023-10-03 10.00.28](&#x2F;Users&#x2F;doumeili&#x2F;Library&#x2F;Application Support&#x2F;typora-user-images&#x2F;截屏2023-10-03 10.00.28.png)</p>
<p>为什么减的是2999999不是300w</p>
<p>当前挖的是父区块的下一个区块，序号要加一</p>
<p>![截屏2023-10-03 10.02.36](&#x2F;Users&#x2F;doumeili&#x2F;Library&#x2F;Application Support&#x2F;typora-user-images&#x2F;截屏2023-10-03 10.02.36.png)</p>
<p>![截屏2023-10-03 10.04.48](&#x2F;Users&#x2F;doumeili&#x2F;Library&#x2F;Application Support&#x2F;typora-user-images&#x2F;截屏2023-10-03 10.04.48.png)</p>
<p>![截屏2023-10-03 10.04.26](&#x2F;Users&#x2F;doumeili&#x2F;Library&#x2F;Application Support&#x2F;typora-user-images&#x2F;截屏2023-10-03 10.04.26.png)</p>
<h2 id="P19-权益证明"><a href="#P19-权益证明" class="headerlink" title="P19 权益证明"></a>P19 权益证明</h2><p>![截屏2023-10-03 11.29.31](&#x2F;Users&#x2F;doumeili&#x2F;Library&#x2F;Application Support&#x2F;typora-user-images&#x2F;截屏2023-10-03 11.29.31.png)</p>
<p>可以上下两条链都下注</p>
<p>互不影响</p>
<p>👇</p>
<p>casper协议 权益证明</p>
<p>要两轮投票，都达到2&#x2F;3以上的人数通过才算通过</p>
<p>![截屏2023-10-03 11.33.20](&#x2F;Users&#x2F;doumeili&#x2F;Library&#x2F;Application Support&#x2F;typora-user-images&#x2F;截屏2023-10-03 11.33.20.png)</p>
<p>![截屏2023-10-03 11.35.21](&#x2F;Users&#x2F;doumeili&#x2F;Library&#x2F;Application Support&#x2F;typora-user-images&#x2F;截屏2023-10-03 11.35.21.png)</p>
<p>改良之后</p>
<p>👇</p>
<p>只需要一轮投票</p>
<p>对于前面一个是prepare message</p>
<p>对于后面一个是commit message</p>
<p>同样还是要有2&#x2F;3的通过才算通过</p>
<p>![截屏2023-10-03 11.37.37](&#x2F;Users&#x2F;doumeili&#x2F;Library&#x2F;Application Support&#x2F;typora-user-images&#x2F;截屏2023-10-03 11.37.37.png)</p>
<p>验证者也是被监督的，如果有不检点行为就会被没收保证金</p>
<p>但是权益证明不是很成熟 </p>
<h2 id="P20-智能合约"><a href="#P20-智能合约" class="headerlink" title="P20 智能合约"></a>P20 智能合约</h2><p>![截屏2023-10-03 23.13.05](&#x2F;Users&#x2F;doumeili&#x2F;Desktop&#x2F;截屏2023-10-03 23.13.05.png)</p>
<p>例子🌰</p>
<p>![截屏2023-10-03 23.16.25](&#x2F;Users&#x2F;doumeili&#x2F;Desktop&#x2F;截屏2023-10-03 23.16.25.png)</p>
<p>![截屏2023-10-03 23.19.06](&#x2F;Users&#x2F;doumeili&#x2F;Library&#x2F;Application Support&#x2F;typora-user-images&#x2F;截屏2023-10-03 23.19.06.png)</p>
<p>这里的知识点比较多，可以详见solidity官方文档</p>
<p>这里写了一些我觉得重点的</p>
<p>接收外部的钱必须➕payable 否则会报错 </p>
<p>![截屏2023-10-03 23.25.24](&#x2F;Users&#x2F;doumeili&#x2F;Library&#x2F;Application Support&#x2F;typora-user-images&#x2F;截屏2023-10-03 23.25.24.png)</p>
<p>![截屏2023-10-03 23.33.51](&#x2F;Users&#x2F;doumeili&#x2F;Library&#x2F;Application Support&#x2F;typora-user-images&#x2F;截屏2023-10-03 23.33.51.png)</p>
<p>![截屏2023-10-03 23.38.05](&#x2F;Users&#x2F;doumeili&#x2F;Library&#x2F;Application Support&#x2F;typora-user-images&#x2F;截屏2023-10-03 23.38.05.png)</p>
<p>智能合约不能多线程</p>
<p>![截屏2023-10-04 14.46.35](&#x2F;Users&#x2F;doumeili&#x2F;Library&#x2F;Application Support&#x2F;typora-user-images&#x2F;截屏2023-10-04 14.46.35.png)</p>
<p>![截屏2023-10-04 14.47.25](&#x2F;Users&#x2F;doumeili&#x2F;Library&#x2F;Application Support&#x2F;typora-user-images&#x2F;截屏2023-10-04 14.47.25.png)</p>
<p>![截屏2023-10-04 14.49.05](&#x2F;Users&#x2F;doumeili&#x2F;Library&#x2F;Application Support&#x2F;typora-user-images&#x2F;截屏2023-10-04 14.49.05.png)</p>
<h2 id="P21-The-DAO"><a href="#P21-The-DAO" class="headerlink" title="P21 The DAO"></a>P21 The DAO</h2><p>![截屏2023-10-04 00.14.23](&#x2F;Users&#x2F;doumeili&#x2F;Library&#x2F;Application Support&#x2F;typora-user-images&#x2F;截屏2023-10-04 00.14.23.png)</p>
<p>The DAO 加入这个计划的话，要交一些代币，可以有投票权</p>
<p>可以把票投给自己，是投票者取回收益的唯一途径</p>
<p>拆分之前有28天锁定期</p>
<p>👇</p>
<p>重入攻击 转走5000万以太币</p>
<p>🈶️两派：</p>
<p>一派是说：这样不违法，可以让他这么做</p>
<p>一派是说：回滚交易</p>
<p>![截屏2023-10-04 13.58.32](&#x2F;Users&#x2F;doumeili&#x2F;Library&#x2F;Application Support&#x2F;typora-user-images&#x2F;截屏2023-10-04 13.58.32.png)</p>
<p>硬分叉：创建一个新的智能合约 -&gt; 退钱 </p>
<p>软分叉：下面分叉成一个新的链，被攻击的那里都回滚</p>
<p>![截屏2023-10-04 14.19.59](&#x2F;Users&#x2F;doumeili&#x2F;Library&#x2F;Application Support&#x2F;typora-user-images&#x2F;截屏2023-10-04 14.19.59.png)</p>
<p>ETC是旧链上挖出的币</p>
<h2 id="P22-ETH反思"><a href="#P22-ETH反思" class="headerlink" title="P22 ETH反思"></a>P22 ETH反思</h2><h2 id="P23-美链"><a href="#P23-美链" class="headerlink" title="P23 美链"></a>P23 美链</h2><p>![截屏2023-10-04 15.11.40](&#x2F;Users&#x2F;doumeili&#x2F;Library&#x2F;Application Support&#x2F;typora-user-images&#x2F;截屏2023-10-04 15.11.40.png)</p>

            </div>

            
                <div class="post-copyright-info">
                    <div class="article-copyright-info-container">
    <ul>
        <li><strong>标题:</strong> 北大肖臻区块链笔记</li>
        <li><strong>作者:</strong> Arie</li>
        <li><strong>创建于:</strong> 2023-10-04 16:10:52</li>
        
            <li>
                <strong>更新于:</strong> 2023-10-04 16:11:47
            </li>
        
        <li>
            <strong>链接:</strong> https://arieran.github.io/2023/10/04/北大肖臻区块链笔记/
        </li>
        <li>
            <strong>版权声明:</strong> 本文章采用 <a class="license" target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh">CC BY-NC-SA 4.0</a> 进行许可。
        </li>
    </ul>
</div>

                </div>
            

            
                <ul class="post-tags-box">
                    
                        <li class="tag-item">
                            <a href="/tags/%E5%8C%BA%E5%9D%97%E9%93%BE%E5%85%A5%E9%97%A8/">#区块链入门</a>&nbsp;
                        </li>
                    
                </ul>
            

            
  <div class="recommended-article">
   <div class="recommended-desktop">
    <div class="recommended-article-header">
     <i aria-hidden="true"></i><span>推荐阅读</span>
    </div>
    <div class="recommended-article-group"><a class="recommended-article-item" href="/2023/07/21/区块链安全入门/" title="区块链安全入门" rel="bookmark">
  <img src="/images/wallhaven-wqery6-light.webp" alt="区块链安全入门">
  <span class="title">区块链安全入门</span>
</a><a class="recommended-article-item" href="/2023/07/21/Earning-Farm攻击事件分析/" title="Earning.Farm攻击事件分析" rel="bookmark">
  <img src="/images/wallhaven-wqery6-light.webp" alt="Earning.Farm攻击事件分析">
  <span class="title">Earning.Farm攻击事件分析</span>
</a><a class="recommended-article-item" href="/2023/07/21/整数溢出学习/" title="整数溢出学习" rel="bookmark">
  <img src="/images/wallhaven-wqery6-light.webp" alt="整数溢出学习">
  <span class="title">整数溢出学习</span>
</a></div>
   </div>
   <div class="recommended-mobile">
   <div class="recommended-article-header">
     <i aria-hidden="true"></i><span>推荐阅读</span>
   </div>
   <div class="recommended-article-group"><a class="recommended-article-item" href="/2023/07/21/区块链安全入门/" title="区块链安全入门" rel="bookmark">
  <img src="/images/wallhaven-wqery6-light.webp" alt="区块链安全入门">
  <span class="title">区块链安全入门</span>
</a><a class="recommended-article-item" href="/2023/07/21/Earning-Farm攻击事件分析/" title="Earning.Farm攻击事件分析" rel="bookmark">
  <img src="/images/wallhaven-wqery6-light.webp" alt="Earning.Farm攻击事件分析">
  <span class="title">Earning.Farm攻击事件分析</span>
</a></div>
   </div>
  </div>

            
                <div class="article-nav">
                    
                    
                        <div class="article-next">
                            <a class="next"
                            rel="next"
                            href="/2023/07/21/Earning-Farm%E6%94%BB%E5%87%BB%E4%BA%8B%E4%BB%B6%E5%88%86%E6%9E%90/"
                            >
                                <span class="title flex-center">
                                    <span class="post-nav-title-item">Earning.Farm攻击事件分析</span>
                                    <span class="post-nav-item">下一篇</span>
                                </span>
                                <span class="right arrow-icon flex-center">
                                    <i class="fa-solid fa-chevron-right"></i>
                                </span>
                            </a>
                        </div>
                    
                </div>
            


            
                <div class="comment-container">
                    <div class="comments-container">
    <div id="comment-anchor"></div>
    <div class="comment-area-title">
        <i class="fa-solid fa-comments"></i>&nbsp;评论
    </div>
    

        
            
 
    <div id="waline"></div>
    <script type="module"  data-pjax>
        import { init } from 'https://evan.beee.top/js/waline.mjs';

        function loadWaline() {
            init({
                el: '#waline',
                serverURL: 'https://arie-s-comment.vercel.app/',
                lang: 'zh-CN',
                dark: 'body[class~="dark-mode"]',
                requiredMeta: ['nick','mail'], // cannot customize by theme config, change it yourself
            });
        }

        if ('true') {
            const loadWalineTimeout = setTimeout(() => {
                loadWaline();
                clearTimeout(loadWalineTimeout);
            }, 1000);
        } else {
            window.addEventListener('DOMContentLoaded', loadWaline);
        }
        
    </script>



        
    
</div>

                </div>
            
        </div>

        
            <div class="toc-content-container">
                <div class="post-toc-wrap">
    <div class="post-toc">
        <div class="toc-title">此页目录</div>
        <div class="page-title">北大肖臻区块链笔记</div>
        <ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#P1-%E5%9F%BA%E7%A1%80%E4%BB%8B%E7%BB%8D"><span class="nav-text">P1 基础介绍</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#P2%E5%AF%86%E7%A0%81%E5%AD%A6%E5%8E%9F%E7%90%86"><span class="nav-text">P2密码学原理</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%B7%A5%E4%BD%9C%E9%87%8F%E8%AF%81%E6%98%8E%EF%BC%88%E8%A6%81%E6%8C%81%E7%BB%AD%E6%8C%96%E7%9F%BF%EF%BC%8C%E6%97%A0%E5%85%B6%E4%BB%96%E5%8A%9E%E6%B3%95%EF%BC%89"><span class="nav-text">工作量证明（要持续挖矿，无其他办法）</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#SHA-256"><span class="nav-text">SHA-256</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#P3-%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84"><span class="nav-text">P3 数据结构</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Merkle-Tree"><span class="nav-text">Merkle Tree</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%EF%BC%88proof-of-membership-proof-of-inclusion%EF%BC%89"><span class="nav-text">（proof of membership&#x2F;proof of inclusion）</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#proof-of-non-membership"><span class="nav-text">proof of non-membership</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#P4-BTC%E5%8D%8F%E8%AE%AE"><span class="nav-text">P4 BTC协议</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1%E3%80%81%E4%B8%BA%E4%BB%80%E4%B9%88%E7%94%A8%E5%8C%BA%E5%9D%97%E9%93%BE%EF%BC%9F"><span class="nav-text">1、为什么用区块链？</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2%E3%80%81%E5%8C%BA%E5%9D%97%E7%BB%93%E6%9E%84"><span class="nav-text">2、区块结构</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#P4-%E6%AF%94%E7%89%B9%E5%B8%81%E7%B3%BB%E7%BB%9F%E7%9A%84%E5%85%B7%E4%BD%93%E5%AE%9E%E7%8E%B0"><span class="nav-text">P4 比特币系统的具体实现</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#P5-%E6%8C%96%E7%9F%BF%E9%9A%BE%E5%BA%A6"><span class="nav-text">P5 挖矿难度</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%B8%BA%E4%BB%80%E4%B9%88%E8%A6%81%E5%8A%A0%E5%A4%A7%E6%8C%96%E7%9F%BF%E9%9A%BE%E5%BA%A6%EF%BC%9F"><span class="nav-text">为什么要加大挖矿难度？</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%80%8E%E4%B9%88%E5%8A%A0%E5%A4%A7%E6%8C%96%E7%9F%BF%E9%9A%BE%E5%BA%A6%EF%BC%9F"><span class="nav-text">怎么加大挖矿难度？</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#P6-%E6%AF%94%E7%89%B9%E5%B8%81%E6%8C%96%E7%9F%BF"><span class="nav-text">P6 比特币挖矿</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#P7-%E6%AF%94%E7%89%B9%E5%B8%81%E8%84%9A%E6%9C%AC"><span class="nav-text">P7 比特币脚本</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#P8-%E6%AF%94%E7%89%B9%E5%B8%81%E7%B3%BB%E7%BB%9F%E5%88%86%E5%8F%89"><span class="nav-text">P8 比特币系统分叉</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#P9-BTC%E9%97%AE%E7%AD%94-%E5%9B%9E%E9%A1%BE"><span class="nav-text">P9 BTC问答-回顾</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#P10-BTC-%E5%8C%BF%E5%90%8D%E6%80%A7"><span class="nav-text">P10 BTC-匿名性</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%9B%B6%E7%9F%A5%E8%AF%86%E8%AF%81%E6%98%8E"><span class="nav-text">零知识证明</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#P11BTC-%E6%80%9D%E8%80%83"><span class="nav-text">P11BTC-思考</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1%E3%80%81%E5%93%88%E5%B8%8C%E6%8C%87%E9%92%88"><span class="nav-text">1、哈希指针</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2%E3%80%81%E5%8C%BA%E5%9D%97%E6%81%8B"><span class="nav-text">2、区块恋</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3%E3%80%81%E5%88%86%E5%B8%83%E5%BC%8F%E5%85%B1%E8%AF%86"><span class="nav-text">3、分布式共识</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4%E3%80%81%E6%AF%94%E7%89%B9%E5%B8%81%E7%9A%84%E7%A8%80%E7%BC%BA%E6%80%A7"><span class="nav-text">4、比特币的稀缺性</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5%E3%80%81%E9%87%8F%E5%AD%90%E8%AE%A1%E7%AE%97"><span class="nav-text">5、量子计算</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#P12-ETH%E4%BB%A5%E5%A4%AA%E5%9D%8A%E6%A6%82%E8%BF%B0"><span class="nav-text">P12 ETH以太坊概述</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#smart-contract"><span class="nav-text">smart contract</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#P13-ETH%E8%B4%A6%E6%88%B7"><span class="nav-text">P13 ETH账户</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%B4%A6%E6%88%B7"><span class="nav-text">账户</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#P14-%E4%BB%A5%E5%A4%AA%E5%9D%8A%E4%B8%AD%E7%9A%84%E7%8A%B6%E6%80%81%E6%A0%91%EF%BC%88%E5%8D%8A%E6%87%B5%E5%8D%8A%E6%87%82%EF%BC%89"><span class="nav-text">P14 以太坊中的状态树（半懵半懂）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#P15-%E4%BA%A4%E6%98%93%E6%A0%91%E5%92%8C%E6%94%B6%E6%8D%AE%E6%A0%91"><span class="nav-text">P15 交易树和收据树</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#P16-GHOST"><span class="nav-text">P16 GHOST</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#P17-%E6%8C%96%E7%9F%BF%E7%AE%97%E6%B3%95"><span class="nav-text">P17 挖矿算法</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#P18-%E9%9A%BE%E5%BA%A6%E8%B0%83%E6%95%B4%E7%AE%97%E6%B3%95"><span class="nav-text">P18 难度调整算法</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#P19-%E6%9D%83%E7%9B%8A%E8%AF%81%E6%98%8E"><span class="nav-text">P19 权益证明</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#P20-%E6%99%BA%E8%83%BD%E5%90%88%E7%BA%A6"><span class="nav-text">P20 智能合约</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#P21-The-DAO"><span class="nav-text">P21 The DAO</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#P22-ETH%E5%8F%8D%E6%80%9D"><span class="nav-text">P22 ETH反思</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#P23-%E7%BE%8E%E9%93%BE"><span class="nav-text">P23 美链</span></a></li></ol>

    </div>
</div>
            </div>
        
    </div>
</div>


                

            </div>
            
            

        </div>

        <div class="main-content-footer">
            <footer class="footer">
    <div class="info-container">
        <div class="copyright-info">
            &copy;
            
              <span>2022</span>
              -
            
            2023&nbsp;&nbsp;<i class="fa-solid fa-heart fa-beat" style="--fa-animation-duration: 0.5s; color: #f54545"></i>&nbsp;&nbsp;<a href="/">Arie</a>
        </div>
        
            <script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
            <div class="website-count info-item">
                
                    <span id="busuanzi_container_site_uv" class="busuanzi_container_site_uv">
                        访问人数&nbsp;<span id="busuanzi_value_site_uv" class="busuanzi_value_site_uv"></span>
                    </span>
                
                
                    <span id="busuanzi_container_site_pv" class="busuanzi_container_site_pv">
                        总访问量&nbsp;<span id="busuanzi_value_site_pv" class="busuanzi_value_site_pv"></span>
                    </span>
                
            </div>
        
        <div class="theme-info info-item">
            <span class="powered-by-container">由 <?xml version="1.0" encoding="utf-8"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg version="1.1" id="圖層_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="1rem" height="1rem" viewBox="0 0 512 512" enable-background="new 0 0 512 512" xml:space="preserve"><path fill="#0E83CD" d="M256.4,25.8l-200,115.5L56,371.5l199.6,114.7l200-115.5l0.4-230.2L256.4,25.8z M349,354.6l-18.4,10.7l-18.6-11V275H200v79.6l-18.4,10.7l-18.6-11v-197l18.5-10.6l18.5,10.8V237h112v-79.6l18.5-10.6l18.5,10.8V354.6z"/></svg><a target="_blank" href="https://hexo.io">Hexo</a> 驱动</span>
                <br>
            <span class="theme-version-container">主题&nbsp;<a class="theme-version" target="_blank" href="https://github.com/EvanNotFound/hexo-theme-redefine">Redefine v2.2.2</a>
        </div>
        
        
        
            <div>
                博客已运行 <span class="odometer" id="runtime_days" ></span> 天 <span class="odometer" id="runtime_hours"></span> 小时 <span class="odometer" id="runtime_minutes"></span> 分钟 <span class="odometer" id="runtime_seconds"></span> 秒
            </div>
        
        
        
            <script async data-pjax>
                try {
                    function odometer_init() {
                    const elements = document.querySelectorAll('.odometer');
                    elements.forEach(el => {
                        new Odometer({
                            el,
                            format: '( ddd).dd',
                            duration: 200
                        });
                    });
                    }
                    odometer_init();
                } catch (error) {}
            </script>
        
        
        
    </div>  
</footer>
        </div>
    </div>

    
        <div class="post-tools">
            <div class="post-tools-container">
    <ul class="article-tools-list">
        <!-- TOC aside toggle -->
        
            <li class="right-bottom-tools page-aside-toggle">
                <i class="fa-regular fa-outdent"></i>
            </li>
        

        <!-- go comment -->
        
            <li class="go-comment">
                <i class="fa-regular fa-comments"></i>
            </li>
        
    </ul>
</div>

        </div>
    

    <div class="right-side-tools-container">
        <div class="side-tools-container">
    <ul class="hidden-tools-list">
        <li class="right-bottom-tools tool-font-adjust-plus flex-center">
            <i class="fa-regular fa-magnifying-glass-plus"></i>
        </li>

        <li class="right-bottom-tools tool-font-adjust-minus flex-center">
            <i class="fa-regular fa-magnifying-glass-minus"></i>
        </li>

        <li class="right-bottom-tools tool-expand-width flex-center">
            <i class="fa-regular fa-expand"></i>
        </li>

        <li class="right-bottom-tools tool-dark-light-toggle flex-center">
            <i class="fa-regular fa-moon"></i>
        </li>

        <!-- rss -->
        

        

        <li class="right-bottom-tools tool-scroll-to-bottom flex-center">
            <i class="fa-regular fa-arrow-down"></i>
        </li>
    </ul>

    <ul class="visible-tools-list">
        <li class="right-bottom-tools toggle-tools-list flex-center">
            <i class="fa-regular fa-cog fa-spin"></i>
        </li>
        
            <li class="right-bottom-tools tool-scroll-to-top flex-center">
                <i class="arrow-up fas fa-arrow-up"></i>
                <span class="percent"></span>
            </li>
        
        
    </ul>
</div>

    </div>

    <div class="image-viewer-container">
    <img src="">
</div>


    
        <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
          <span class="search-input-field-pre">
            <i class="fa-solid fa-keyboard"></i>
          </span>
            <div class="search-input-container">
                <input autocomplete="off"
                       autocorrect="off"
                       autocapitalize="off"
                       placeholder="搜索..."
                       spellcheck="false"
                       type="search"
                       class="search-input"
                >
            </div>
            <span class="popup-btn-close">
                <i class="fa-solid fa-times"></i>
            </span>
        </div>
        <div id="search-result">
            <div id="no-result">
                <i class="fa-solid fa-spinner fa-spin-pulse fa-5x fa-fw"></i>
            </div>
        </div>
    </div>
</div>

    


</main>




<script src="/js/utils.js"></script>

<script src="/js/main.js"></script>

<script src="/js/layouts/navbarShrink.js"></script>

<script src="/js/tools/scrollTopBottom.js"></script>

<script src="/js/tools/lightDarkSwitch.js"></script>



    
<script src="/js/tools/localSearch.js"></script>




    
<script src="/js/tools/codeBlock.js"></script>




    
<script src="/js/layouts/lazyload.js"></script>




    
<script src="/js/tools/runtime.js"></script>

    
<script src="/js/libs/odometer.min.js"></script>

    
<link rel="stylesheet" href="/assets/odometer-theme-minimal.css">




  
<script src="/js/libs/Typed.min.js"></script>

  
<script src="/js/plugins/typed.js"></script>







<div class="post-scripts pjax">
    
        
<script src="/js/tools/tocToggle.js"></script>

<script src="/js/libs/anime.min.js"></script>

<script src="/js/layouts/toc.js"></script>

<script src="/js/plugins/tabs.js"></script>

    
</div>


    
<script src="/js/libs/pjax.min.js"></script>

<script>
    window.addEventListener('DOMContentLoaded', () => {
        window.pjax = new Pjax({
            selectors: [
                'head title',
                '.page-container',
                '.pjax',
            ],
            history: true,
            debug: false,
            cacheBust: false,
            timeout: 0,
            analytics: false,
            currentUrlFullReload: false,
            scrollRestoration: false,
            // scrollTo: true,
        });

        document.addEventListener('pjax:send', () => {
            Global.utils.pjaxProgressBarStart();
        });

        document.addEventListener('pjax:complete', () => {
            Global.utils.pjaxProgressBarEnd();
            window.pjax.executeScripts(document.querySelectorAll('script[data-pjax], .pjax script'));
            Global.refresh();
        });
    });
</script>




</body>
</html>
